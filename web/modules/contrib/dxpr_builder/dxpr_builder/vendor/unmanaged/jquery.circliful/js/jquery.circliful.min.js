"use strict";!function(t){t.fn.circliful=function(i,e){var a=t.extend({startdegree:0,fgcolor:"#556b2f",bgcolor:"#eee",fill:!1,width:15,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default",complete:null,bordersize:10},i);return this.each(function(){function e(i,e,a){t("<span></span>").appendTo(i).addClass(e).html(r).prepend(f).css({"line-height":a+"px","font-size":l.fontsize+"px"})}function n(i,e){t("<span></span>").appendTo(i).addClass("circle-info-half").css("line-height",l.dimension*e+"px").text(h)}function o(i){t.each(c,function(e,n){void 0!=i.data(n)?l[n]=i.data(n):l[n]=t(a).attr(n),"fill"==n&&void 0!=i.data("fill")&&(g=!0)})}function d(e){b.clearRect(0,0,x.width,x.height),b.beginPath(),b.arc(z,M,I,k,C,!1),b.lineWidth=l.bordersize+1,b.strokeStyle=l.bgcolor,b.stroke(),l.fill&&(b.fillStyle=l.fill,b.fill()),b.beginPath(),b.arc(z,M,I,-W+q,T*e-W+q,!1),"outline"==l.border?b.lineWidth=l.width+l.bordersize:"inline"==l.border&&(b.lineWidth=l.width-l.bordersize),b.strokeStyle=l.fgcolor,b.stroke(),p>F&&(F+=S,requestAnimationFrame(function(){d(Math.min(F,p)/100)},v)),F==p&&j&&"undefined"!=typeof i&&t.isFunction(i.complete)&&(i.complete(),j=!1)}var s,r,h,c=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border","startdegree","bordersize"],l={},f="",p=0,v=t(this),g=!1;if(v.addClass("circliful"),o(v),void 0!=v.data("text")&&(r=v.data("text"),void 0!=v.data("icon")&&(f=t("<i></i>").addClass(t(this).data("icon")).css({color:l.iconcolor,"font-size":l.iconsize})),void 0!=v.data("type")?(R=t(this).data("type"),"half"==R?e(v,"circle-text-half",l.dimension/1.45):e(v,"circle-text",l.dimension)):e(v,"circle-text",l.dimension)),void 0!=t(this).data("total")&&void 0!=t(this).data("part")){var m=t(this).data("total")/100;s=(t(this).data("part")/m/100).toFixed(3),p=(t(this).data("part")/m).toFixed(3)}else void 0!=t(this).data("percent")?(s=t(this).data("percent")/100,p=t(this).data("percent")):s=a.percent/100;void 0!=t(this).data("info")&&(h=t(this).data("info"),void 0!=t(this).data("type")?(R=t(this).data("type"),"half"==R?n(v,.9):n(v,1.25)):n(v,1.25)),t(this).width(l.dimension+"px");var u=l.dimension,x=t("<canvas></canvas>").attr({width:u,height:u}).appendTo(t(this)).get(0),b=x.getContext("2d"),P=window.devicePixelRatio;if(P){var y=t(x);y.css("width",u),y.css("height",u),y.attr("width",u*P),y.attr("height",u*P),b.scale(P,P)}var z=(t(x).parent(),u/2),M=u/2,w=360*l.percent,I=(w*(Math.PI/180),u/2.5),C=2.3*Math.PI,k=0,F=0===l.animationstep?p:0,S=Math.max(l.animationstep,0),T=2*Math.PI,W=Math.PI/2,R="",j=!0,q=l.startdegree/180*Math.PI;void 0!=t(this).data("type")&&(R=t(this).data("type"),"half"==R&&(C=2*Math.PI,k=3.13,T=Math.PI,W=Math.PI/.996)),void 0!=t(this).data("type")&&(R=t(this).data("type"),"angle"==R&&(C=2.25*Math.PI,k=2.4,T=1.53+Math.PI,W=.73+Math.PI/.996)),d(F/100)})}}(jQuery);