!function(j,k,B,t,n){"use strict";var M,o,e="colorbox",a="b-cbox",D="b-"+e,d="#"+e,L=j("body"),r="is-"+a,h="[data-"+e+"-trigger]:not(."+r+")",U="media media--box",W=U+" media--ratio",O="colorbox-on",Q="#cboxLoadedContent",s=k.sanitizer,q=k.instagram||!1,A="b-provider--",l={},E=t.colorbox||{};function i(t){var f=j(d),e=j(t),g=e.data("bMedia")||e.data("media")||{},i=e.data("oembedUrl"),a=t.href||"x";i&&(a=i);var b=g.provider,x=g.boxType,t=g.token,v="iframe"===x&&!s.isDangerous("href",a),p="pinterest"===b,C=g.paddingHack||!1,w="html"in g,i=l[t];w&&!i&&(i=g.html,g.encoded&&(i=atob(i)),i=s.sanitize(i),l[t]=i);i={href:a,html:i,rel:g.rel||null,iframe:v,title:function(){var t=e.next(".litebox__caption");return t.length?s.sanitize(t[0].innerHTML):""},onComplete:function(){n.clearTimeout(o),o=n.setTimeout(function(){var t,e,i,a,n,o,d,r,h,s,l,c,m,u;y(),j("#cboxOverlay").is(":visible")&&(f.addClass(D+"--"+x),b&&f.addClass(A+b),L.addClass(O+" "+O+"--"+g.type),(v||w)&&(L.addClass(v?O+"--media":O+"--html"),t=E.maxWidth,e=E.maxHeight,n=T(i=(C?g.width:g.owidth)||t,a=C?g.height:e),o=!0,d=j(Q),r=d[0],h=j("iframe",r),s=j(".media",r),l=d.find("picture img"),c=d.find("img[srcset]"),m=c.length||l.length,u=s.hasClass("b-instagram")&&q,s.length&&B.attachBehaviors(s[0]),m?(function(t,e){var i;_(function(){(i=(t.length?t:e)[0])&&(i.complete?S.call(i):j(i).one("load",S))},101)}(l,c),n=T(i=t||g.width,a=e||g.height)):p&&(n=T(i="320px",a=e)),(h=j("iframe",r)).length?(h.addClass("media__element"),u?(o=!1,function(t,e){_(function(){q.show(function(t){180<t.width&&(e=T(t.width+"px",t.height+"px")),z(e)},t[0])},101)}(h,n)):C||h.on("load",function(){var t=j(this);_(function(){i=t.width()+"px",a=t.height()+"px",z(n=T(i,a))})}),s.length||(d.addClass(U+" media--"+b),C&&function(t,e){h.attr("width",e.width).attr("height",e.height),e=k.image.ratio(e)+"%",t.css(H(e,0)).addClass(W)}(d,n))):d.css(H("",n.height)).removeClass(W+" media--"+b),o&&z(n))),M=b})},onCleanup:function(){var t=(f=j(d)).find(".media");t.length&&B.detachBehaviors(t[0])},onClosed:function(){y()}};function y(){f=j(d),L.removeClass(function(t,e){return(e.match(/(^|\s)colorbox-\S+/g)||[]).join(" ")}),f.removeClass(A+M),f.removeClass(function(t,e){return(e.match(/(^|\s)b-colorbox-\S+/g)||[]).join(" ")})}function z(t){j.colorbox.resize({innerWidth:t.width,innerHeight:t.height})}function T(t,e){return k.image.dimension(t,e)}function H(t,e){return k.image.hack(t,e)}function S(){var t=j(this),e=t.width(),i=t.height(),a=t.closest(Q),n=a.width(),a=a.height();a<i?t.css("top",-(i-a)/2):i<a?(t.css({height:a,width:"auto"}),t.css("left",-(t.width()-n)/2)):e<n&&z(T(e,i))}function _(t,e){n.setTimeout(t,e||0)}e.colorbox(j.extend({},E,i)),e.addClass(r)}B.behaviors.blazyColorbox={attach:function(t){k.isUnd(E)||E.mobiledetect&&k.matchMedia(E.mobiledevicewidth)||k.once(i,a,h,t).length&&j(d).attr("aria-label","color box").addClass(D)},detach:function(t,e,i){"unload"===i&&k.once.removeSafely(a,h,t)}}}(jQuery,dBlazy,Drupal,drupalSettings,this,this.document);
