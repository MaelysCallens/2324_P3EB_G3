!function(i,e){"use strict";var s="Bio",t=i.dBlazy;t.isAmd?define([s,t,i],e):"object"==typeof exports?module.exports=e(s,t,i):i[s]=e(s,t,i)}(this||module||{},function(s,f,v){"use strict";f.isAmd&&(v=window);var t,o,n=v.document,r=n,p="bio",h={},a=0,e=0,l=0,d="b-bg",b="is-b-visible",u=p+".intersecting "+p+":intersecting",g=".media",m="addClass",y="removeClass",c=!1,z=25,C=0,w=f.observer,L=f.viewport;function i(i){var e=f.extend({},o,this);return e.name=s,e.options=t=f.extend({},f._defaults,i||{}),d=t.bgClass||d,z=t.validateDelay||z,g=t.parent||g,r=t.root||r,setTimeout(function(){e.reinit()}),e}function x(i,e){var s=this,t=s.options,o=t.selector,n=s.count,r=s.ioObserver,d=t.visibleClass||e||!1;a===n-1&&(f.trigger(v,p+":done",{options:t}),d||s.destroyQuietly()),r&&(f.is(i,o)||(o=f.find(i,o),f.isElm(o)&&(r.unobserve(i),i=o)),s.isLoaded(i)&&!e&&(t.isMedia&&!d&&r.unobserve(i),a++)),i.bhit&&!e||(s.lazyLoad(i,h),f.isFun(t.intersecting)&&t.intersecting(i,t),f.trigger(i,u,{options:t}),l++,i.bhit=!0)}function A(i){var n=this,r=n.options,d=L.vp||{},a=L.ww||0,e=i[0],l=f.isBlur(e),e=L.isResized(n,e),u=r.visibleClass,c=f.isBool(u)&&u;if(e)h=L.update(r),L.onresizing(n,h),0<C&&(e={winData:h,entries:n.elms,currentWidth:a,oldWidth:C,enlarged:C<a},C!==a?f.trigger(v,p+":resizing",e):f.trigger(v,p+":resized",e),n.resizeTick++);else if(n.destroyed&&!u)return;f.each(i,function(i){var e=i.target||i,s=L.isResized(n,i),t=L.isVisible(i,d),o=f.closest(e,g)||e;l=l&&!f.hasClass(o,"is-b-animated"),t?(n.isLoaded(e)||f[m](o,b),x.call(n,e),n.isLoaded(e)&&((l||c)&&f[m](o,b),c||setTimeout(function(){f[y](o,b)},601))):f[y](o,b),u&&f.isStr(u)&&f[t?m:y](o,u),s&&0<C&&!l&&C!==a&&n.resizing(e,h),f.isFun(r.observing)&&r.observing(i,t,r)}),C=a}return(o=i.prototype).constructor=i,o.count=0,o.erCount=0,o.resizeTick=0,o.destroyed=!1,o.options={},o.lazyLoad=function(i,e){},o.loadImage=function(i,e,s){},o.resizing=function(i,e){},o.prepare=function(){},o.windowData=function(){return f.isUnd(h.vp)?L.windowData(this.options,!0):h},o.load=function(i,e,s){var t=this;i=i&&f.toArray(i),f.isUnd(s)||(t.options=f.extend({},t.options,s||{})),e=e||t.options.loadInvisible,f.each(i,function(i){(t.isValid(i)||f.isElm(i)&&e)&&x.call(t,i,e)})},o.isLoaded=function(i){return f.hasClass(i,this.options.successClass)},o.isValid=function(i){return f.isElm(i)&&!this.isLoaded(i)},o.revalidate=function(i){(!0===i||this.count!==l)&&e<l&&(this.elms=f.findAll(r,f.selector(this.options))).length&&(this.observe(!0),e++)},o.destroyQuietly=function(i){var e=this.options;this.destroyed||!i&&!f.isUnd(Drupal.io)||(e=f.find(n,f.selector(e,":not(."+e.successClass+")")),f.isElm(e)||this.destroy(i))},o.destroy=function(i){var e=this,s=e.options,t=e.ioObserver,s=a===e.count-1&&s.disconnect;e.destroyed||0<e.erCounted&&!i||(s||i)&&(t&&t.disconnect(),w.unload(e),e.count=0,e.elms=[],e.ioObserver=null,e.destroyed=!0)},o.observe=function(i){var e=this,s=e.elms;i=i||e.destroyed,c&&!i||(f.isIo&&(h=w.init(e,A,s,!0),e.destroyed=!1),w.observe(e,s,!0),c=!0)},o.reinit=function(){this.destroyed=!0,a=0,function(i){i.prepare();var e=f.findAll(r,f.selector(i.options));i.elms=e,i.count=e.length,i._raf=[],i._queue=[],i.observe(!0)}(this)},i});
